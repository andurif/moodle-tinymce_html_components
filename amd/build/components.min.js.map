{"version":3,"file":"components.min.js","sources":["../src/components.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Tiny html_component Components list.\n * @module      tiny_html_components/components\n * @copyright   2023 Gerbault Cédric, Anthony Durif, Université Clermont Auvergne\n * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nconst components = [\n    {\n        id : 0,\n        name: \"accordion\",\n        params :true,\n        code: function () {\n            var nb_collapse = document.getElementById('collapse_nb').value;\n            var collapse_class = (!document.querySelector('input[name=\"collapse_show\"]').checked) ? \"collapse show\" : \"collapse\";\n            var uniq ='_' + Math.random().toString(36).substring(2, 9);\n            var txt =\"<div class='accordion' id='accordion\"+ uniq +\"'>\";\n            for (var i = 1; i <= nb_collapse; i++){\n                txt +=\n                  \"<div class='card'>\" +\n                  \"    <div class='card-header' id='heading\" +\n                  uniq +\n                  \"_\" +\n                  i +\n                  \"'>\" +\n                  \"      <h3 class='mb-0'>\" +\n                  \"        <button class='btn btn-link btn-block\" +\n                  \" text-left collapsed' type='button' data-toggle='collapse' data-target='#collapse\" +\n                  uniq +\n                  \"_\" +\n                  i +\n                  \"' aria-expanded='false' aria-controls='collapse\" +\n                  uniq +\n                  \"_\" +\n                  i +\n                  \"'>\" +\n                  \"          Collapsible Group Item #\" +\n                  i +\n                  \"\" +\n                  \"        </button>\" +\n                  \"      </h3>\" +\n                  \"    </div>\" +\n                  \"    <div id='collapse\" +\n                  uniq +\n                  \"_\" +\n                  i +\n                  \"' class='\" +\n                  collapse_class +\n                  \"' aria-labelledby='heading\" +\n                  uniq +\n                  \"_\" +\n                  i +\n                  \"' data-parent='#accordion\" +\n                  uniq +\n                  \"'>\" +\n                  \"      <div class='card-body'>\" +\n                  \"        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor\" +\n                  \" incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud\" +\n                  \" exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure\" +\n                  \" dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. \" +\n                  \"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit \" +\n                  \"anim id est laborum.\" +\n                  \"      </div>\" +\n                  \"    </div>\" +\n                  \"  </div>\";\n            }\n            txt += \"</div>\";\n            return txt;\n        },\n\n    },\n    {\n        id:1,\n        name: \"alert\",\n        params : true,\n        code: function() {\n            var close = (document.querySelector('input[name=\"close\"]:checked').value == \"1\")?\n            \"<button type='button' class='close m-auto' data-dismiss='alert'\"+\n            \" aria-label='Close'><span aria-hidden='true'>&times;</span></button>\" : \"\";\n            return \"<div class='alert alert-\" + document.getElementById('alert_type').value +\n             \"'>\" + close + \"Alert contents!</div>\";\n       },\n    },\n    {\n        id: 2,\n        name: \"button\",\n        params : true,\n        code: function () {\n            var nb_btns = document.getElementById('button_nb').value;\n            var type = document.getElementById('button_type').value;\n            var dropdown = document.querySelector('input[name=\"button_dropdown\"]').checked;\n            var style = document.querySelector('input[name=\"button_style\"]:checked').value;\n            var size = document.querySelector('input[name=\"button_size\"]:checked').value;\n            var btn_class = ((style == \"full\") ? \"btn-\" + type : \"btn-\" +\n            style + \"-\" + type) + \" \" + ((size == \"med\") ? \"\" : \"btn-\" + size);\n            var btn_style = (style == \"full\") ? \"style='color:white; margin-right:3px;'\" : \"style='margin-right:3px;'\";\n            var tooltip = (document.querySelector('input[name=\"button_tooltip\"]:checked').value == \"1\");\n            if (dropdown == false) {\n                var btn_html = \"<a href='#' role='button' class='btn \" + btn_class + \"'\" + btn_style +\n                    ((tooltip) ? \"data-toggle='tooltip' data-placement='\" + document.getElementById('button_tooltip_pos').value +\n                    \"' title='Tooltip on the button'\" : \"\") + \">Button</a>\";\n            } else {\n                var class_block = (size == \"block\") ? \" btn-block\" : \"\";\n                var btn_html = \"<div class='dropdown custom_html_dropdown\" +  class_block +\n                \"'><a class='dropdown-toggle btn \" + btn_class + \"'\" + btn_style +\n                    ((tooltip) ? \"data-toggle='tooltip' data-placement='\" + document.getElementById('button_tooltip_pos').value +\n                    \"' title='Tooltip on the button'\" : \"\") +\n                    \" data-toggle='dropdown' aria-haspopup='true' aria-expanded='false'>Dropdown Button</a>\" +\n                    \"<div class='dropdown-menu'>\";\n                var nb_items = document.getElementById('button_dropdown_nb').value;\n                if (nb_items >= 0) {\n                    for (var i = 1; i <= nb_items; i++) {\n                        btn_html += \"<a class='dropdown-item' href='#'>Sub Item #\" + i +\"</a>\";\n                    }\n                }\n                btn_html += \"</div></div>\";\n            }\n            var txt = \"\";\n            if (nb_btns >= 0) {\n                for (var i = 1; i <= nb_btns; i++) {\n                    txt += btn_html;\n                }\n            }\n            txt = (dropdown === null) ? txt : ((size == \"block\") ? \"<div style='display: grid;'>\" + txt + \"</div>\" :\n            \"<div style='display: flex; flex-wrap: wrap;'>\" + txt + \"</div>\");\n            return txt;\n        },\n    },\n    {\n        id: 3,\n        params: false,\n        name: \"jumbotron\",\n        code: function() {return \"<div class='jumbotron' style='background-color: #e9ecef;'><h1>Hello, world!</h1>\" +\n        \"<p class='lead'>This is a simple hero unit, a simple jumbotron-style component for calling extra attention to\"+\n        \" featured content or information.</p>\" +\n        \"<hr/><p>It uses utility classes for typography and spacing to space content out within the larger container.</p>\" +\n        \"<a class='btn btn-primary btn-lg' href='#' role='button'>Learn more</a>\" +\n    \"</div>\";},\n    },\n    {\n        id:4,\n        name: \"nav\",\n        params : true,\n        code: function () {\n            var nb_links = document.getElementById('nav_nb').value;\n            var txt = \"<ul class='nav nav-pills' style='list-style: none;'><li class='nav-item'>\" +\n                \"<a href='#' class='nav-link active' style='border: 1px solid white;'>Tabs #1</a></li>\";\n            if (nb_links > 1) {\n                for (var i = 2; i <= nb_links; i++) {\n                    txt += \"<li class='nav-item'><a href='#' class='nav-link active' style='border: 1px solid white;'>Tabs #\" +\n                    i + \"</a></li>\";\n                }\n            }\n            txt += \"</ul><hr/>\";\n            return txt;\n        },\n    },\n    {\n        id:5,\n        params:true,\n        name: \"card\",\n        code: function () {\n            var nb_cards = document.getElementById('card_nb').value;\n            var card_background = document.getElementById('card_background').value;\n            var card_display = document.querySelector('input[name=\"card_display\"]:checked').value;\n            var card_orientation = (card_background != \"image\") ? \"portrait\" :\n            document.querySelector('input[name=\"card_orientation\"]:checked').value;\n            var card_disposition = document.getElementById('card_disposition').value;\n            var div_class = \"col-xl-\" + Math.round(12/card_disposition) + \" col-lg-\" +\n                 Math.round(12/card_disposition) + \" col-sm-\"+Math.round(12/card_disposition)+\" col-xs-\" +Math.round(12/card_disposition);\n            var card_class = (card_background == \"image\" || card_background == \"classic\") ? \"\" :\n            \"text-white bg-\" + card_background;\n            var btn_class = (card_background == \"image\" || card_background == \"secondary\" || card_background == \"classic\")\n            ? \"primary\" : \"light\";\n            var background = (card_background == \"image\") ? \"<img src='/lib/editor/tiny/plugins/html_components/pix/card-placeholder.png'\"+\n            \" class='card-img-top img-fluid' alt=''>\" : \"<div class='card-header'>CARD HEADER</div>\" ;\n            if (card_orientation == \"portrait\") {\n                var card_html = \"<div class='\" + div_class +\"' style='margin-bottom: 20px;'>\";\n                card_html += \"<div class='card shadow-lg h-100 \" + card_class + \"'>\" + background +\n                        \"<div class='card-body'>\" +\n                            \"<h5 class='card-title'>Card title</h5>\" +\n                            \"<p class='card-text'>Some quick example text to build on\"+\n                            \"the card title and make up the bulk of the card's content.</p>\" +\n                        \"</div>\" +\n                        \"<div class='card-footer' style='background-color: inherit; border-top: none;'><a href='#' class='btn btn-\"+\n                        btn_class + \"'>Go somewhere</a></div>\" +\n                \"</div>\";\n                card_html += \"</div>\";\n            }\n            var txt = \"<div class='text-center'><div class='col-12 justify-content-center \" +\n             ((card_display == \"vertical\") ? \"\" :\"card-deck\") +\"'\"\n             +((card_display == \"vertical\") ? \"style='display: grid; justify-items:center;'\" : \"\") + \">\";\n            for (var i = 1; i <= nb_cards; i++) {\n                txt += card_html;\n            }\n            txt += \"</div></div>\";\n            return txt;\n        },\n    },\n];\nexport default {\n    components,\n};\n"],"names":["components","id","name","params","code","nb_collapse","document","getElementById","value","collapse_class","querySelector","checked","uniq","Math","random","toString","substring","txt","i","close","nb_btns","type","dropdown","style","size","btn_class","btn_style","tooltip","btn_html","nb_items","nb_links","nb_cards","card_background","card_display","card_orientation","card_disposition","div_class","round","card_html"],"mappings":"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"}